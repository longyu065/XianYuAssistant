<script setup lang="ts">
import { useDashboard } from './useDashboard'

const { loading, stats, loadStatistics } = useDashboard()

// ç»„ä»¶æŒ‚è½½æ—¶åŠ è½½æ•°æ®
loadStatistics()
</script>

<template>
  <div class="dashboard-page" v-loading="loading">
    <el-row :gutter="20">
      <el-col :span="8">
        <el-card shadow="hover" class="stat-card">
          <div class="stat-content">
            <div class="stat-icon account-icon">ğŸ‘¤</div>
            <div class="stat-info">
              <div class="stat-value">{{ stats.accountCount }}</div>
              <div class="stat-label">é—²é±¼è´¦å·</div>
            </div>
          </div>
        </el-card>
      </el-col>
      
      <el-col :span="8">
        <el-card shadow="hover" class="stat-card">
          <div class="stat-content">
            <div class="stat-icon goods-icon">ğŸ“¦</div>
            <div class="stat-info">
              <div class="stat-value">{{ stats.goodsCount }}</div>
              <div class="stat-label">å•†å“æ€»æ•°</div>
            </div>
          </div>
        </el-card>
      </el-col>
      
      <el-col :span="8">
        <el-card shadow="hover" class="stat-card">
          <div class="stat-content">
            <div class="stat-icon online-icon">ğŸ”¥</div>
            <div class="stat-info">
              <div class="stat-value">{{ stats.onlineGoodsCount }}</div>
              <div class="stat-label">åœ¨å”®å•†å“</div>
            </div>
          </div>
        </el-card>
      </el-col>
    </el-row>

    <el-card class="welcome-card" shadow="never">
      <h2>æ¬¢è¿ä½¿ç”¨é—²é±¼è‡ªåŠ¨åŒ–ç®¡ç†ç³»ç»Ÿ</h2>
      <p>åŸºäº Vue3 + TypeScript çš„ç°ä»£åŒ–ç®¡ç†ç³»ç»Ÿ</p>
      <el-divider />
      <el-row :gutter="20">
        <el-col :span="12">
          <h3>å¿«é€Ÿå¼€å§‹</h3>
          <ul>
            <li>1. åœ¨"æ‰«ç ç™»å½•"é¡µé¢æ·»åŠ é—²é±¼è´¦å·</li>
            <li>2. åœ¨"è¿æ¥ç®¡ç†"é¡µé¢å¯åŠ¨ WebSocket è¿æ¥</li>
            <li>3. åœ¨"å•†å“ç®¡ç†"é¡µé¢é…ç½®è‡ªåŠ¨åŒ–åŠŸèƒ½</li>
          </ul>
        </el-col>
        <el-col :span="12">
          <h3>åŠŸèƒ½ç‰¹æ€§</h3>
          <ul>
            <li>âœ… å¤šè´¦å·ç®¡ç†</li>
            <li>âœ… è‡ªåŠ¨å‘è´§</li>
            <li>âœ… è‡ªåŠ¨å›å¤</li>
            <li>âœ… æ¶ˆæ¯ç®¡ç†</li>
          </ul>
        </el-col>
      </el-row>
    </el-card>
  </div>
</template>

<style scoped src="./dashboard.css"></style>
