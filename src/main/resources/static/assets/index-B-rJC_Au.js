import{r as S,a as I,d as $,c as u,w as j,b as o,e as A,u as m,f as E,g as s,h as d,i as t,t as l,F as v,j as f,k as L,o as r,n as M,l as O,m as R,p as H,_ as J}from"./index-7CieyMQU.js";import{r as K}from"./request-DTdiWb_T.js";function Q(){return K({url:"/dashboard/stats",method:"POST",data:{}})}function U(){const h=S(!1),_=I({accountCount:0,goodsCount:0,onlineGoodsCount:0});return{loading:h,stats:_,loadStatistics:async()=>{h.value=!0;try{const n=await Q();(n.code===0||n.code===200)&&n.data&&(_.accountCount=n.data.accountCount||0,_.goodsCount=n.data.itemCount||0,_.onlineGoodsCount=n.data.sellingItemCount||0)}catch(n){console.error("加载统计数据失败:",n)}finally{h.value=!1}}}}const X={class:"dashboard-page"},Y={class:"stat-content"},Z={class:"stat-info"},tt={class:"stat-value"},st={class:"stat-content"},et={class:"stat-info"},ot={class:"stat-value"},at={class:"stat-content"},nt={class:"stat-info"},lt={class:"stat-value"},it={class:"steps-content"},ct={class:"step-icon"},dt={class:"step-title"},rt={class:"step-description"},ut={class:"step-details"},_t={class:"feature-title"},pt={class:"feature-description"},vt={class:"faq-question"},ft={class:"faq-answer"},ht=$({__name:"index",setup(h){const _=L(),{loading:g,stats:n,loadStatistics:q}=U();q();const k=S(0),b=[{title:"1. 添加闲鱼账号",icon:"👤",description:"通过扫码登录添加您的闲鱼账号",route:"/accounts",details:['点击左侧菜单"闲鱼账号"','点击"扫码登录"按钮',"使用闲鱼APP扫描二维码","等待登录成功，账号自动添加"]},{title:"2. 启动WebSocket连接",icon:"🔗",description:"建立与闲鱼服务器的实时连接",route:"/connection",details:['进入"连接管理"页面',"选择要连接的账号",'点击"启动连接"按钮',"等待连接成功，开始监听消息"]},{title:"3. 同步商品信息",icon:"📦",description:"获取您的闲鱼商品列表",route:"/goods",details:['进入"商品管理"页面',"选择已连接的账号",'点击"刷新商品"按钮',"等待商品同步完成"]},{title:"4. 配置自动化功能",icon:"🤖",description:"设置自动发货和自动回复",route:"/auto-delivery",details:["在商品列表中找到目标商品",'开启"自动发货"或"自动回复"',"配置发货内容或回复规则","保存配置，自动化开始工作"]}],T=[{icon:"👥",title:"多账号管理",description:"支持同时管理多个闲鱼账号，轻松切换",color:"#409eff"},{icon:"🚀",title:"自动发货",description:"买家付款后自动发送发货信息，节省时间",color:"#67c23a"},{icon:"💬",title:"自动回复",description:"智能匹配关键词，自动回复买家消息",color:"#e6a23c"},{icon:"📊",title:"数据统计",description:"实时查看商品、订单、消息等数据统计",color:"#f56c6c"},{icon:"🔄",title:"Token自动刷新",description:"智能维护登录状态，无需频繁重新登录",color:"#909399"},{icon:"📜",title:"操作日志",description:"详细记录所有操作，方便追踪和排查",color:"#606266"}],D=[{question:"如何获取Cookie？",answer:'在连接管理页面，点击Cookie部分的"❓"帮助按钮，查看详细的获取步骤和示例图片。'},{question:"WebSocket连接失败怎么办？",answer:"1. 检查Cookie是否有效；2. 尝试刷新Token；3. 如果提示需要滑块验证，访问 https://www.goofish.com/im 完成验证后手动更新Cookie和Token。"},{question:"自动发货什么时候触发？",answer:'当买家付款后，系统会自动检测到"已付款待发货"消息，并根据配置自动发送发货信息。'},{question:"Token过期了怎么办？",answer:"系统会自动刷新Token（1.5-2.5小时刷新一次），也可以在连接管理页面手动刷新。"}],x=y=>{_.push(y)};return(y,e)=>{const c=d("el-card"),p=d("el-col"),w=d("el-row"),B=d("el-step"),z=d("el-steps"),G=d("el-button"),N=d("el-collapse-item"),P=d("el-collapse"),V=d("el-alert"),W=A("loading");return r(),u("div",X,[j((r(),E(w,{gutter:20,class:"stats-row"},{default:s(()=>[o(p,{span:8},{default:s(()=>[o(c,{shadow:"hover",class:"stat-card"},{default:s(()=>[t("div",Y,[e[1]||(e[1]=t("div",{class:"stat-icon account-icon"},"👤",-1)),t("div",Z,[t("div",tt,l(m(n).accountCount),1),e[0]||(e[0]=t("div",{class:"stat-label"},"闲鱼账号",-1))])])]),_:1})]),_:1}),o(p,{span:8},{default:s(()=>[o(c,{shadow:"hover",class:"stat-card"},{default:s(()=>[t("div",st,[e[3]||(e[3]=t("div",{class:"stat-icon goods-icon"},"📦",-1)),t("div",et,[t("div",ot,l(m(n).goodsCount),1),e[2]||(e[2]=t("div",{class:"stat-label"},"商品总数",-1))])])]),_:1})]),_:1}),o(p,{span:8},{default:s(()=>[o(c,{shadow:"hover",class:"stat-card"},{default:s(()=>[t("div",at,[e[5]||(e[5]=t("div",{class:"stat-icon online-icon"},"🔥",-1)),t("div",nt,[t("div",lt,l(m(n).onlineGoodsCount),1),e[4]||(e[4]=t("div",{class:"stat-label"},"在售商品",-1))])])]),_:1})]),_:1})]),_:1})),[[W,m(g)]]),o(c,{class:"guide-card",shadow:"never"},{header:s(()=>[...e[6]||(e[6]=[t("div",{class:"card-header"},[t("span",{class:"card-title"},"🚀 快速开始指南"),t("span",{class:"card-subtitle"},"4步完成系统配置，开启自动化之旅")],-1)])]),default:s(()=>[o(z,{active:k.value,"align-center":"",class:"steps-container"},{default:s(()=>[(r(),u(v,null,f(b,(a,i)=>o(B,{key:i,title:a.title,icon:a.icon},null,8,["title","icon"])),64))]),_:1},8,["active"]),t("div",it,[o(w,{gutter:20},{default:s(()=>[(r(),u(v,null,f(b,(a,i)=>o(p,{span:6,key:i},{default:s(()=>[o(c,{shadow:"hover",class:M(["step-card",{active:k.value===i}]),onClick:C=>k.value=i},{default:s(()=>[t("div",ct,l(a.icon),1),t("h3",dt,l(a.title),1),t("p",rt,l(a.description),1),t("ul",ut,[(r(!0),u(v,null,f(a.details,(C,F)=>(r(),u("li",{key:F},l(C),1))),128))]),o(G,{type:"primary",size:"small",onClick:O(C=>x(a.route),["stop"]),class:"step-button"},{default:s(()=>[...e[7]||(e[7]=[R(" 前往操作 → ",-1)])]),_:1},8,["onClick"])]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1})])]),_:1}),o(c,{class:"features-card",shadow:"never"},{header:s(()=>[...e[8]||(e[8]=[t("div",{class:"card-header"},[t("span",{class:"card-title"},"✨ 功能特性"),t("span",{class:"card-subtitle"},"强大的自动化功能，提升您的工作效率")],-1)])]),default:s(()=>[o(w,{gutter:20},{default:s(()=>[(r(),u(v,null,f(T,(a,i)=>o(p,{span:8,key:i},{default:s(()=>[o(c,{shadow:"hover",class:"feature-card"},{default:s(()=>[t("div",{class:"feature-icon",style:H({color:a.color})},l(a.icon),5),t("h3",_t,l(a.title),1),t("p",pt,l(a.description),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),o(c,{class:"faq-card",shadow:"never"},{header:s(()=>[...e[9]||(e[9]=[t("div",{class:"card-header"},[t("span",{class:"card-title"},"❓ 常见问题"),t("span",{class:"card-subtitle"},"快速解答您的疑问")],-1)])]),default:s(()=>[o(P,{accordion:""},{default:s(()=>[(r(),u(v,null,f(D,(a,i)=>o(N,{key:i,name:i},{title:s(()=>[t("span",vt,l(a.question),1)]),default:s(()=>[t("div",ft,l(a.answer),1)]),_:2},1032,["name"])),64))]),_:1})]),_:1}),o(c,{class:"tips-card",shadow:"never"},{default:s(()=>[o(V,{title:"💡 温馨提示",type:"info",closable:!1},{default:s(()=>[...e[10]||(e[10]=[t("ul",{class:"tips-list"},[t("li",null,"系统会自动刷新Token，保持登录状态，无需频繁重新登录"),t("li",null,"建议不要频繁启动/断开连接，避免触发人机验证"),t("li",null,"自动发货和自动回复需要先启动WebSocket连接才能生效"),t("li",null,'所有操作都会记录在"操作日志"中，方便追踪和排查问题')],-1)])]),_:1})]),_:1})])}}}),wt=J(ht,[["__scopeId","data-v-659bc171"]]);export{wt as default};
